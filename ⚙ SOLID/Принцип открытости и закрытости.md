#### Книга

###### Пример
- авторизация где обработка ошибок разнится и при повторе отправке нет обработоко некоторых

Принцип открытости/закрытости (Open-Closed Principle; OCP) был сформулирован Бертраном Мейером в 1988 году.  Он гласит: 

`Программные сущности должны быть открыты для расширения и закрыты для изменения.` 

Иными словами, должна иметься возможность расширять поведение программных сущностей без их изменения.

Это одна из основных причин, почему мы изучаем архитектуру программного обеспечения. Очевидно, если простое расширение требований ведет к значительным изменениям в программном обеспечении, значит, архитекторы этой программной системы потерпели сокрушительное фиаско.

Большинство студентов, изучающих проектирование программного обеспечения, признают принцип OCP как руководство по проектированию классов и модулей. Но на уровне архитектурных компонентов этот принцип приобретает еще большую значимость.

`Если компонент A требуется защитить от изменений в компоненте B, компонент B должен зависеть от компонента A.`
###### Заключение
Принцип открытости/закрытости — одна из движущих сил в архитектуре систем. Его цель — сделать систему легко расширяемой и обезопасить ее от влияния изменений. Эта цель достигается делением системы на компоненты и упорядочением их зависимостей в иерархию, защищающую компоненты уровнем выше от изменений в компонентах уровнем ниже.
###### Мысленный эксперимент
Теперь допустим, что заинтересованные лица попросили нас представить ту же информацию в виде отчета, распечатанного на черно-белом принтере. Отчет должен быть разбит на страницы, включать соответствующие верхний и нижний колонтитулы на каждой странице и колонку меток. Отрицательные значения должны заключаться в круглые скобки. 

Очевидно, что для этого придется написать новый код. 

Но как много старого кода придется изменить? В программном обеспечении с хорошо проработанной архитектурой таких изменений должно быть очень немного. В идеале их вообще не должно быть

#### Видео

###### Определение Боба
`Программные сущности: классы, модули, ф-ии должны быть открыты для расширения, но закрыты для изменения. Когда нам нужно внести изменение мы не должно глубоко копатся в системе изменяя его поведение. Мы должны иметь возможность вносить изменения, добавляя новый код, а не изменяя существующий.

###### Определение Мейера
`Если изменение не нарушают обратную совместимость то все заебись.`
`Обратная совместимость - это когда мы изменение компонент и клиенты не ломаются (ничего у них менять не надо)`

###### Причины использования
- Существует вероятность появления ошибки в процессе модификации
- Сложность изменить поведение API, который уже везде используется

Когда клиенты просят новую функцию, они думают, что функции будут добавлены, но не предполагают, что разработчики будут что-то изменять.

Мы обязательно должны изменять существующий код, если он содержит ошибку.

###### Паттерны
- Защищенная вариация - выявление точек прогнозируемых вариации и создание вокруг них стабильного интерфейса.
- Шаблонный метод
- Стратегия

###### Запахи
- Множество логических веток по условиям с операторами If-else или switch/case

##### Принцип единственного выбора
Всякий раз, когда система программного обеспечения должна поддерживать множество альтернатив, их полный список должен быть известен только одному модулю системы.

Это означает, что с дизайном нашей фабрики все хорошо, до тех пор, пока список вариантов является ее деталью реализации

###### Паттерны
- Фабрика, в котором изолирован switch

###### Подходы
- Цепочка ответственности - перебор объектов до тех пор, пока не найдётся нужный для решения задачи.

##### Заключение
- Код должен быть открыт для расширения и закрыт для модификации
- Изолируйте ответственность за создание объектов в единственном модуле 
- Родственные паттерны: "шаблонный метод" и стратегия